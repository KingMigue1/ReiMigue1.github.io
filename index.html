<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Gamer Gear Store - Periféricos para Gamers</title>
  <link rel="stylesheet" href="css/style.css" />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body>
  <!-- Barra de Navegação -->
  <nav class="navbar">
    <div class="nav-container">
      <a href="index.html" class="nav-logo">Gamer Gear Store</a>
      <div class="nav-links">
        <a href="index.html" class="nav-link active">Home</a>
        <a href="search.html" class="nav-link">Buscar Produtos</a>
        <a href="compare.html" class="nav-link">Comparar</a>
        <a href="about.html" class="nav-link">Sobre</a>
        <a href="admin.html" class="nav-link">
          <i class="fas fa-cog"></i>
          Admin
        </a>
        <button class="theme-toggle" onclick="toggleTheme()">
          <i class="fas fa-moon"></i>
        </button>
      </div>
    </div>
  </nav>

  <!-- Hero Section -->
  <section class="hero">
    <div class="hero-content">
      <h1>Encontre os Melhores Periféricos para Gaming</h1>
      <p>Compare e escolha os melhores mouses, teclados, headsets e mais para sua setup</p>
      <a href="search.html" class="btn-primary">Buscar Produtos</a>
    </div>
  </section>

  <!-- Seção de Produtos -->
  <section class="products-section">
    <h2 class="section-title">Produtos em Destaque</h2>
    <div class="products-grid" id="featuredProducts">
      <!-- Os produtos serão inseridos aqui via JavaScript -->
    </div>
  </section>

  <script src="js/products.js"></script>
  <script>
    // Função para alternar o tema
    function toggleTheme() {
      const body = document.body;
      const themeToggle = document.querySelector('.theme-toggle');
      const themeIcon = themeToggle.querySelector('i');
      const themeText = themeToggle.querySelector('.theme-text');
      
      if (body.getAttribute('data-theme') === 'dark') {
        body.removeAttribute('data-theme');
        themeIcon.className = 'fas fa-sun';
        themeText.textContent = 'Tema Claro';
        localStorage.setItem('theme', 'light');
      } else {
        body.setAttribute('data-theme', 'dark');
        themeIcon.className = 'fas fa-moon';
        themeText.textContent = 'Tema Escuro';
        localStorage.setItem('theme', 'dark');
      }
    }

    // Carregar tema salvo
    document.addEventListener('DOMContentLoaded', async () => {
      const savedTheme = localStorage.getItem('theme');
      const themeToggle = document.querySelector('.theme-toggle');
      const themeIcon = themeToggle.querySelector('i');
      const themeText = themeToggle.querySelector('.theme-text');
      
      if (savedTheme === 'dark') {
        document.body.setAttribute('data-theme', 'dark');
        themeIcon.className = 'fas fa-moon';
        themeText.textContent = 'Tema Escuro';
      }

      // Carregar produtos
      const productsGrid = document.getElementById('featuredProducts');
      const produtos = await obterTodosProdutos();
      
      produtos.slice(0, 4).forEach(produto => {
        const card = document.createElement('div');
        card.className = 'product-card';
        card.innerHTML = `
          <div class="product-image">
            <img src="${produto.imagem}" alt="${produto.nome}">
          </div>
          <div class="product-info">
            <h3>${produto.nome}</h3>
            <p class="product-specs">
              ${produto.tipo === 'mouse' ? 
                `Sensor: ${produto.especificacoes.sensor} • Peso: ${produto.especificacoes.peso}g • ${produto.especificacoes.tipo}` :
              produto.tipo === 'teclado' ?
                `Switch: ${produto.especificacoes.switch} • ${produto.especificacoes.iluminacao} • ${produto.especificacoes.tipo}` :
              produto.tipo === 'headset' ?
                `Driver: ${produto.especificacoes.driver} • ${produto.especificacoes.microfone} • ${produto.especificacoes.tipo}` :
                ''}
            </p>
            <div class="product-price">R$ ${produto.preco.toFixed(2)}</div>
            <div class="product-buttons">
              <button class="btn-compare" onclick="window.location.href='compare.html'">Comparar</button>
              <button class="btn-shop">Ver na loja</button>
            </div>
          </div>
        `;
        productsGrid.appendChild(card);
      });
    });
  </script>
</body>
</html>
